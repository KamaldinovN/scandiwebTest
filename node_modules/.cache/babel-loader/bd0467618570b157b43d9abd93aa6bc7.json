{"ast":null,"code":"var _jsxFileName = \"/Users/hristakuritcak/WebstormProjects/shop/src/components/CurrencySwitcher/CurrencySwitcher.jsx\";\nimport { Component, createRef } from \"react\";\nimport { graphql } from \"@apollo/client/react/hoc\";\nimport styles from \"./CurrencySwitcher.module.css\";\nimport { LOAD_CURRENCIES } from \"../../GraphQl\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst options = [{\n  label: \"$ USD\",\n  value: \"USD\"\n}, {\n  label: \"£ GBP\",\n  value: \"GBP\"\n}, {\n  label: \"¥ JPY\",\n  value: \"JPY\"\n}, {\n  label: \"$ AUD\",\n  value: \"AUD\"\n}, {\n  label: \"₽ RUB\",\n  value: \"RUB\"\n}];\n\nclass CurrencySwitcher extends Component {\n  constructor() {\n    super(...arguments);\n    this.container = /*#__PURE__*/createRef();\n    this.state = {\n      open: false,\n      label: \"$\"\n    };\n\n    this.handleButtonClick = () => {\n      this.setState(state => {\n        return {\n          open: !state.open\n        };\n      });\n    };\n\n    this.handleClickOutside = event => {\n      if (this.container.current && !this.container.current.contains(event.target)) {\n        this.setState({\n          open: false\n        });\n      }\n    };\n\n    this.handleListItemClick = event => {\n      this.props.update(event.target.id);\n      const [currency] = event.target.innerText;\n      this.setState({\n        label: currency,\n        open: false\n      });\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"click\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"click\", this.handleClickOutside);\n  }\n\n  render() {\n    const buttonStyle = this.state.open ? `${styles.button} ${styles[\"button--open\"]}` : `${styles.button} ${styles[\"button--closed\"]}`;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      ref: this.container,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: buttonStyle,\n        onClick: this.handleButtonClick,\n        children: this.state.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), this.state.open && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.dropdown,\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: options.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            data: item.value,\n            title: item.label,\n            id: index,\n            onClick: this.handleListItemClick,\n            onClick: event => this.id(event.target.id),\n            children: item.label\n          }, item.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default graphql(LOAD_CURRENCIES)(CurrencySwitcher);","map":{"version":3,"names":["Component","createRef","graphql","styles","LOAD_CURRENCIES","options","label","value","CurrencySwitcher","container","state","open","handleButtonClick","setState","handleClickOutside","event","current","contains","target","handleListItemClick","props","update","id","currency","innerText","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","render","buttonStyle","button","dropdown","map","item","index"],"sources":["/Users/hristakuritcak/WebstormProjects/shop/src/components/CurrencySwitcher/CurrencySwitcher.jsx"],"sourcesContent":["import { Component, createRef } from \"react\";\nimport { graphql } from \"@apollo/client/react/hoc\";\n\nimport styles from \"./CurrencySwitcher.module.css\";\nimport { LOAD_CURRENCIES } from \"../../GraphQl\";\n\nconst options = [\n  {\n    label: \"$ USD\",\n    value: \"USD\",\n  },\n  {\n    label: \"£ GBP\",\n    value: \"GBP\",\n  },\n  {\n    label: \"¥ JPY\",\n    value: \"JPY\",\n  },\n  {\n    label: \"$ AUD\",\n    value: \"AUD\",\n  },\n  {\n    label: \"₽ RUB\",\n    value: \"RUB\",\n  },\n];\n\nclass CurrencySwitcher extends Component {\n  container = createRef();\n\n  state = {\n    open: false,\n    label: \"$\",\n  };\n\n  componentDidMount() {\n    document.addEventListener(\"click\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"click\", this.handleClickOutside);\n  }\n\n  handleButtonClick = () => {\n    this.setState((state) => {\n      return {\n        open: !state.open,\n      };\n    });\n  };\n\n  handleClickOutside = (event) => {\n    if (\n      this.container.current &&\n      !this.container.current.contains(event.target)\n    ) {\n      this.setState({\n        open: false,\n      });\n    }\n  };\n\n  handleListItemClick = (event) => {\n    this.props.update(event.target.id);\n    const [currency] = event.target.innerText;\n    this.setState({\n      label: currency,\n      open: false,\n    });\n  };\n\n  render() {\n    const buttonStyle = this.state.open\n      ? `${styles.button} ${styles[\"button--open\"]}`\n      : `${styles.button} ${styles[\"button--closed\"]}`;\n\n    return (\n      <div className={styles.container} ref={this.container}>\n        <button\n          type=\"button\"\n          className={buttonStyle}\n          onClick={this.handleButtonClick}\n        >\n          {this.state.label}\n        </button>\n\n        {this.state.open && (\n          <div className={styles.dropdown}>\n            <ul>\n              {options.map((item, index) => (\n                <li\n                  key={item.value}\n                  data={item.value}\n                  title={item.label}\n                  id={index}\n                  onClick={this.handleListItemClick}\n                  onClick={(event) => this.id(event.target.id)}\n                >\n                  {item.label}\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default graphql(LOAD_CURRENCIES)(CurrencySwitcher);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}