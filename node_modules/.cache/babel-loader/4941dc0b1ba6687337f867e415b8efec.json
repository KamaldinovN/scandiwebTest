{"ast":null,"code":"var _jsxFileName = \"/Users/hristakuritcak/WebstormProjects/shop/src/components/SingleProduct/SingleProduct.jsx\";\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport parse from \"html-react-parser\";\nimport { addProductSuccess } from \"../../redux/cart/cart_action\";\nimport styles from \"./SingleProduct.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SingleProduct extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      cover: \"\",\n      attributes: this.props.product.attributes\n    };\n\n    this.addToCart = product => {\n      this.props.dispatchToCart(product);\n      alert(\"Added to cart\");\n    };\n\n    this.addClass = e => {\n      this.setState({\n        attributes: this.state.attributes.map(attributes => ({ ...attributes,\n          isActive: e.target.id === attributes.items.id\n        }))\n      });\n    };\n\n    this.handleCover = event => {\n      this.setState({\n        cover: event.target.src\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      cover: this.props.product.gallery[0]\n    });\n  }\n\n  render() {\n    const product = this.props.product;\n    return /*#__PURE__*/_jsxDEV(\"article\", {\n      className: styles.product,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.gallery,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.gallery__thumbs,\n          children: product.gallery.map(image => {\n            return /*#__PURE__*/_jsxDEV(\"img\", {\n              src: image,\n              className: styles.gallery__thumb,\n              alt: product.name,\n              title: product.name,\n              width: \"79\",\n              height: \"80\",\n              loading: \"lazy\",\n              onClick: this.handleCover\n            }, image, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.cover,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.state.cover,\n            className: styles.cover__image,\n            alt: product.name,\n            title: product.name,\n            width: \"610\",\n            height: \"511\",\n            loading: \"lazy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n        className: styles.sidebar,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: styles.title,\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: styles.brand,\n          children: product.brand\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), this.state.attributes.length ? this.state.attributes.map(attributes => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.subtitle,\n              children: [attributes.name, \":\"]\n            }, attributes.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.attributes,\n              children: attributes.items.map(item => {\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: item.isActive ? \" radio active\" : styles.radio,\n                  onClick: this.addClass,\n                  style: {\n                    backgroundColor: `${item.value}`\n                  },\n                  title: item.displayValue,\n                  children: attributes.id === \"Color\" ? \"\" : item.displayValue\n                }, item.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 27\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }, this)]\n          }, attributes.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 19\n          }, this);\n        }) : null, /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.subtitle,\n          children: [product.inStock ? \"price\" : \"last price\", \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.price,\n          children: [\"$\", product.prices[0].amount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: styles.add,\n          onClick: () => this.addToCart(product),\n          disabled: !product.inStock,\n          children: product.inStock ? \"add to cart\" : \"Out of stock\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.description,\n          children: parse(product.description)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => ({\n  dispatchToCart: product => dispatch(addProductSuccess(product))\n});\n\nexport default connect(null, mapDispatchToProps)(withRouter(SingleProduct));","map":{"version":3,"names":["Component","connect","withRouter","parse","addProductSuccess","styles","SingleProduct","state","cover","attributes","props","product","addToCart","dispatchToCart","alert","addClass","e","setState","map","isActive","target","id","items","handleCover","event","src","componentDidMount","gallery","render","gallery__thumbs","image","gallery__thumb","name","cover__image","sidebar","title","brand","length","subtitle","item","radio","backgroundColor","value","displayValue","inStock","price","prices","amount","add","description","mapDispatchToProps","dispatch"],"sources":["/Users/hristakuritcak/WebstormProjects/shop/src/components/SingleProduct/SingleProduct.jsx"],"sourcesContent":["import { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport parse from \"html-react-parser\";\n\nimport { addProductSuccess } from \"../../redux/cart/cart_action\";\n\nimport styles from \"./SingleProduct.module.css\";\n\nclass SingleProduct extends Component {\n  state = {\n    cover: \"\",\n    attributes: this.props.product.attributes,\n  };\n\n  componentDidMount() {\n    this.setState({ cover: this.props.product.gallery[0] });\n  }\n\n  addToCart = (product) => {\n    this.props.dispatchToCart(product);\n\n    alert(\"Added to cart\");\n  };\n\n  addClass = (e) => {\n    this.setState({\n      attributes: this.state.attributes.map((attributes) => ({\n        ...attributes,\n        isActive: e.target.id === attributes.items.id,\n      })),\n    });\n  };\n\n  handleCover = (event) => {\n    this.setState({ cover: event.target.src });\n  };\n\n  render() {\n    const product = this.props.product;\n    return (\n      <article className={styles.product}>\n        <div className={styles.gallery}>\n          <div className={styles.gallery__thumbs}>\n            {product.gallery.map((image) => {\n              return (\n                <img\n                  src={image}\n                  key={image}\n                  className={styles.gallery__thumb}\n                  alt={product.name}\n                  title={product.name}\n                  width=\"79\"\n                  height=\"80\"\n                  loading=\"lazy\"\n                  onClick={this.handleCover}\n                />\n              );\n            })}\n          </div>\n\n          <div className={styles.cover}>\n            <img\n              src={this.state.cover}\n              className={styles.cover__image}\n              alt={product.name}\n              title={product.name}\n              width=\"610\"\n              height=\"511\"\n              loading=\"lazy\"\n            />\n          </div>\n        </div>\n\n        <aside className={styles.sidebar}>\n          <h1 className={styles.title}>{product.name}</h1>\n          <h2 className={styles.brand}>{product.brand}</h2>\n\n          {this.state.attributes.length\n            ? this.state.attributes.map((attributes) => {\n                return (\n                  <div key={attributes.id}>\n                    <p className={styles.subtitle} key={attributes.id}>\n                      {attributes.name}:\n                    </p>\n\n                    <div className={styles.attributes}>\n                      {attributes.items.map((item) => {\n                        return (\n                          <button\n                            type=\"button\"\n                            className={\n                              item.isActive ? \" radio active\" : styles.radio\n                            }\n                            key={item.id}\n                            onClick={this.addClass}\n                            style={{ backgroundColor: `${item.value}` }}\n                            title={item.displayValue}\n                          >\n                            {attributes.id === \"Color\" ? \"\" : item.displayValue}\n                          </button>\n                        );\n                      })}\n                    </div>\n                  </div>\n                );\n              })\n            : null}\n\n          <p className={styles.subtitle}>\n            {product.inStock ? \"price\" : \"last price\"}:\n          </p>\n\n          <p className={styles.price}>${product.prices[0].amount}</p>\n\n          <button\n            type=\"button\"\n            className={styles.add}\n            onClick={() => this.addToCart(product)}\n            disabled={!product.inStock}\n          >\n            {product.inStock ? \"add to cart\" : \"Out of stock\"}\n          </button>\n\n          <div className={styles.description}>{parse(product.description)}</div>\n        </aside>\n      </article>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  dispatchToCart: (product) => dispatch(addProductSuccess(product)),\n});\n\nexport default connect(null, mapDispatchToProps)(withRouter(SingleProduct));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}